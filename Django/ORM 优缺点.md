## 记录Django ORM 优缺点


### 目的
本人一直以来，都对ORM持赞赏态度，因为ORM可以帮助我们做很多事，比如说防止注入，提升效率，但随着接触加深，本人觉得使用ORM和直接操作数据库是不冲突的，
看什么场景什么情况下需要



### ORM 优点
* 防止SQL注入，因为ORM在实际执行的时候，会转换成SQL执行，在转换过程中会对注入进行处理
  ```
  比如说我想登录，必须验证账号和密码，sql语句如下：
  select * from admin_table where name='%s' and pwd='%s'

  在前端不做限制的情况下，或者后端不做处理的情况下，可以格式化成这样：只要name字段输入admin or admin=admin #即可
  select * from admin_table where name=admin or admin=admin # and pwd=123

  以上情况如果只是前端做了限制只是防止普调用户，如果比较熟悉web的同学，还是可以伪造请求，得到返回的cookies，去拿自己想要的东西
  ```
* 对数据库层进行了抽象，不需要关于数据库底层的东西，只需要关注业务即可
* 数据模型都在一个地方，便于更新和维护，也可以重用代码
* 不是很复杂的查询不用担心效率低，因为ORM自身已经优化了很多


### ORM缺点
* 对应优点，转换过程中会有性能损耗
* 对应优点，复杂ORM比较难写，而且增加了学习成本，长时间使用会造成原生SQL技能退化
* 抽象了数据库层面，复杂的SQL无法实现
